(this.webpackJsonpstudy=this.webpackJsonpstudy||[]).push([[0],{112:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(11),c=n.n(r),s=(n(112),n(9)),i=n.n(s),o=n(19),u=n(14),l=n(189),d=n(175),j=n(190),p=n(3),b=Object(d.a)({root:{width:"50%"}});var f=function(e){var t=e.addTodo,n=e.setErrMessage,r=b(),c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],o=s[1];return Object(p.jsx)("div",{children:Object(p.jsx)(j.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(p.jsx)("form",{className:r.root,onSubmit:function(e){e.preventDefault()},children:Object(p.jsx)(l.a,{fullWidth:!0,id:"outlined-basic",label:"To Do:",variant:"outlined",value:i,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){try{if("Enter"===e.key){if(""===e.target.value.trim())throw new Error("Input your task!");t({name:i,done:!1}),o("")}}catch(a){n(a.message)}}})})})})},h=n(180),x=n(89),m=n.n(x),O=n(90),v=n.n(O),g=n(181),y=Object(d.a)({root:{width:"100%",height:"50px"}});var k=function(e){var t=e.filters,n=e.filtersForDate,a=y();return Object(p.jsx)("div",{className:a.root,children:Object(p.jsxs)(j.a,{display:"flex",justifyContent:"space-between",m:1,p:1,children:[Object(p.jsxs)(j.a,{display:"flex",children:[Object(p.jsx)(j.a,{p:1,children:Object(p.jsx)(h.a,{variant:"contained",onClick:function(){return t("")},children:"All Tasks"})}),Object(p.jsx)(j.a,{p:1,children:Object(p.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return t("true")},children:"Done Tasks"})}),Object(p.jsx)(j.a,{p:1,children:Object(p.jsx)(h.a,{variant:"contained",color:"secondary",onClick:function(){return t("false")},children:"Undone Tasks"})})]}),Object(p.jsxs)(j.a,{display:"inline-flex",alignItems:"center",justifyContent:"flex-end",children:[Object(p.jsx)("p",{children:"Sort by Date:"}),Object(p.jsx)(g.a,{edge:"end","aria-label":"sortUp",onClick:function(){return n("desc")},children:Object(p.jsx)(m.a,{})}),Object(p.jsx)(g.a,{"aria-label":"sortDown",onClick:function(){return n("asc")},children:Object(p.jsx)(v.a,{})})]})]})})},w=n(179),C=n(182),S=n(184),T=n(193),N=n(91),D=n.n(N),I=n(183),W=Object(d.a)({root:{width:"450px"}});var q=function(e){var t=e.todo,n=e.deleteTodo,r=e.doneTodo,c=e.changeTaskName,s=W(),i=Object(a.useState)(t.name),o=Object(u.a)(i,2),d=o[0],j=o[1],b=Object(a.useState)(t.done),f=Object(u.a)(b,2),h=f[0],x=f[1];return Object(p.jsxs)(C.a,{role:void 0,dense:!0,button:!0,children:[Object(p.jsx)(I.a,{children:Object(p.jsx)(T.a,{edge:"start",checked:h,onChange:function(){r(t.uuid),x(!h)}})}),Object(p.jsx)(l.a,{className:s.root,id:"standard-basic",value:d,onChange:function(e){return j(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&c(d,t.uuid)}}),Object(p.jsx)("p",{children:t.createdAt}),Object(p.jsx)(S.a,{children:Object(p.jsx)(g.a,{edge:"end","aria-label":"delete",onClick:function(){return n(t.uuid)},children:Object(p.jsx)(D.a,{})})})]})},E=Object(d.a)((function(e){return{root:{width:"100%",margin:5}}}));var F=function(e){var t=e.todos,n=e.deleteTodo,a=e.doneTodo,r=e.changeTaskName,c=E();return Object(p.jsx)(w.a,{className:c.root,children:t.map((function(e){return Object(p.jsx)(q,{todo:e,deleteTodo:n,doneTodo:a,changeTaskName:r},e.uuid)}))})},M=n(191),L=Object(d.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2)}}}}));function U(e){var t=e.handlerChange,n=e.countTodos,a=L();return Object(p.jsx)("div",{className:a.root,children:Object(p.jsx)(j.a,{display:"flex",justifyContent:"center",children:Object(p.jsx)(M.a,{count:n,variant:"outlined",shape:"rounded",onChange:t})})})}var A=n(59),R=n.n(A),P=n(92),H=function(){if(null!==localStorage.getItem("token")){var e=localStorage.getItem("token"),t=Object(P.a)(e);return!((new Date).getTime()/1e3>t.exp)||(localStorage.removeItem("token"),!1)}return!1},B=R.a.create({baseURL:"https://dry-plains-46747.herokuapp.com/",headers:{"Content-Type":"application/json",token:localStorage.getItem("token")}}),J=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H()){e.next=5;break}return e.next=3,B.post("task",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H()){e.next=5;break}return e.next=3,B.get("task?".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H()){e.next=5;break}return e.next=3,B.patch("task/".concat(t),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H()){e.next=5;break}return e.next=3,B.delete("task/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=n(195),Q=n(192),X=n(15),Y=n(43),Z=n(196),$=n(186),_=n(188),ee=n(187),te=n(60),ne=n.n(te),ae=n(144),re=n(185),ce=R.a.create({baseURL:"https://dry-plains-46747.herokuapp.com/",headers:{"Content-Type":"application/json"}}),se=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.post("user/"+t.typeRequest,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function oe(){var e=ie(),t=Object(X.f)(),n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],s=r[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),b=j[0],f=j[1],x=Object(a.useState)(""),m=Object(u.a)(x,2),O=m[0],v=m[1],g=function(e,t){"clickaway"!==t&&v(O.length>0)},y=function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),e.next=4,se({email:c,password:b,typeRequest:"auth"});case 4:a=e.sent,localStorage.setItem("token",a.data.token),t.push("/app"),t.go(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),v(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(re.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)($.a,{}),Object(p.jsxs)("div",{className:e.paper,children:[Object(p.jsx)(Z.a,{className:e.avatar,children:Object(p.jsx)(ne.a,{})}),Object(p.jsx)(ae.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(p.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(p.jsx)(l.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:c,onChange:function(e){s(e.target.value)}}),Object(p.jsx)(l.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){f(e.target.value)}}),Object(p.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return y(e)},children:"Sign In"}),Object(p.jsx)(ee.a,{container:!0,children:Object(p.jsx)(ee.a,{item:!0,children:Object(p.jsx)(_.a,{onClick:function(){t.push("/reg")},variant:"body2",children:"Don't have an account? Sign Up"})})}),Object(p.jsx)(G.a,{open:O.length>0,autoHideDuration:2e3,onClose:g,children:Object(p.jsx)(Q.a,{severity:"error",onClose:g,children:O})})]})]})]})}var ue=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function le(){var e=ue(),t=Object(X.f)(),n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],s=r[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),b=j[0],f=j[1],x=Object(a.useState)(""),m=Object(u.a)(x,2),O=m[0],v=m[1],g=Object(a.useState)(""),y=Object(u.a)(g,2),k=y[0],w=y[1],C=Object(a.useState)(""),S=Object(u.a)(C,2),T=S[0],N=S[1],D=function(e,t){"clickaway"!==t&&N(T.length>0)},I=function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),e.next=4,se({firstName:c,lastName:b,email:O,password:k,typeRequest:"reg"});case 4:a=e.sent,localStorage.setItem("token",a.data.token),t.push("/app"),t.go(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),N(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(re.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)($.a,{}),Object(p.jsxs)("div",{className:e.paper,children:[Object(p.jsx)(Z.a,{className:e.avatar,children:Object(p.jsx)(ne.a,{})}),Object(p.jsx)(ae.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(p.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(p.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(p.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(l.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:c,onChange:function(e){s(e.target.value)}})}),Object(p.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(l.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:b,onChange:function(e){f(e.target.value)}})}),Object(p.jsx)(ee.a,{item:!0,xs:12,children:Object(p.jsx)(l.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:O,onChange:function(e){v(e.target.value)}})}),Object(p.jsx)(ee.a,{item:!0,xs:12,children:Object(p.jsx)(l.a,{variant:"outlined",requiredasda:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:k,onChange:function(e){w(e.target.value)}})})]}),Object(p.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return I(e)},children:"Sign Up"}),Object(p.jsx)(ee.a,{container:!0,justify:"flex-end",children:Object(p.jsx)(ee.a,{item:!0,children:Object(p.jsx)(_.a,{onClick:function(){t.push("/")},variant:"body2",children:"Already have an account? Sign in"})})}),Object(p.jsx)(G.a,{open:T.length>0,autoHideDuration:2e3,onClose:D,children:Object(p.jsx)(Q.a,{severity:"error",onClose:D,children:T})})]})]})]})}var de=n(139);function je(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),s=Object(u.a)(c,2),l=s[0],d=s[1],b=Object(a.useState)(""),x=Object(u.a)(b,2),m=x[0],O=x[1],v=Object(a.useState)(0),g=Object(u.a)(v,2),y=g[0],w=g[1],C=Object(a.useState)(""),S=Object(u.a)(C,2),T=S[0],N=S[1],D=Object(a.useState)("asc"),I=Object(u.a)(D,2),W=I[0],q=I[1],E=Object(X.f)();function M(){return(M=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J({name:t.name});case 3:if(200!==e.sent.status){e.next=10;break}return e.next=7,K(de.stringify({page:l,done:T,order:W}));case 7:n=e.sent,r(n.data.rows),w(Math.ceil(n.data.count/5));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),O("Task already exist");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function L(){return(L=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:if(200!==e.sent.status){e.next=9;break}return e.next=6,K(de.stringify({page:l,done:T,order:W}));case 6:n=e.sent,r(n.data.rows),w(Math.ceil(n.data.count/5));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(o.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.find((function(e){return e.uuid===t})),e.next=3,V(t,{name:a.name,done:!a.done});case 3:200===(c=e.sent).status&&r(n.filter((function(e){return e.uuid===t&&(e.done=c.data.done),e}))),O(c.message);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(t),e.next=3,K(de.stringify({page:l,done:t,order:W}));case 3:n=e.sent,r(n.data.rows),w(Math.ceil(n.data.count/5));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E={history:E},q(t),e.next=4,K(de.stringify({page:l,order:t,done:T}));case 4:n=e.sent,r(n.data.rows),w(Math.ceil(n.data.count/5));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(o.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(1===n?0:n-1),e.next=3,K(de.stringify({page:n-1,order:W,done:T}));case 3:a=e.sent,r(a.data.rows);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(a,{name:t});case 3:200===e.sent.status&&r(n.map((function(e){return e.uuid===a&&(e.name=t),e}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),O("Task already exist");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(de.stringify({page:l,order:"asc"}));case 3:200===(t=e.sent).status&&(r(t.data.rows),w(Math.ceil(t.data.count/5))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Z=function(e,t){"clickaway"!==t&&O(m>0)};return Object(p.jsx)(Y.a,{children:Object(p.jsxs)(X.c,{children:[Object(p.jsx)(X.a,{path:"/reg",component:le,children:Object(p.jsx)(le,{})}),Object(p.jsx)(X.a,{exact:!0,path:"/",component:oe,children:Object(p.jsx)(oe,{})}),Object(p.jsx)(X.a,{path:"/app",component:je,children:Object(p.jsxs)("div",{children:[Object(p.jsx)(j.a,{display:"flex",justifyContent:"flex-end",margin:4,children:Object(p.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){localStorage.removeItem("token"),E.push("/")},children:"Log Out"})}),Object(p.jsx)(j.a,{display:"flex",justifyContent:"center",m:1,p:10,children:Object(p.jsx)("h1",{children:"My ToDo List"})}),Object(p.jsx)(f,{addTodo:function(e){return M.apply(this,arguments)},setErrMessage:O}),Object(p.jsx)(k,{filters:function(e){return R.apply(this,arguments)},filtersForDate:function(e){return P.apply(this,arguments)}}),Object(p.jsx)(F,{todos:n,deleteTodo:function(e){return L.apply(this,arguments)},doneTodo:function(e){return A.apply(this,arguments)},changeTaskName:function(e,t){return B.apply(this,arguments)}}),Object(p.jsx)(U,{handlerChange:function(e,t){return H.apply(this,arguments)},countTodos:y}),Object(p.jsx)(G.a,{open:m.length>0,autoHideDuration:2e3,onClose:Z,children:Object(p.jsx)(Q.a,{severity:"error",onClose:Z,children:m})})]})})]})})}var pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,198)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};c.a.render(Object(p.jsx)(Y.a,{basename:"https://evgeniy-cmd.github.io",children:Object(p.jsx)(je,{})}),document.getElementById("root")),pe()}},[[142,1,2]]]);
//# sourceMappingURL=main.de64a1dd.chunk.js.map